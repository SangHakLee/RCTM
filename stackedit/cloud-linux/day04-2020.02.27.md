day03 이어서

# 네트워크 연결 구성하기

## ip

아래 명령어들은 쓰지 않는 것을 권고하지만, 아직 많이 쓰임
Docker에서도 최소 설치 시 제외됨(`net-tools` 설치 필요)
- ifconfig
- route

`ip`로 가능
```bash
$ ip addr
$ ip route
$ ip neigh
```
- 하지만, 실제로 `ip` 명령어 보단 전통적인 명령어를 주로 사용한다.

## DNS Client
FQDN: `호스트` + `도메인명`

## NetwokManager
CentOS5 버전부터 존재
7버전에서 개선

### nmcli
- `nmtui`: gui 기반
- `nmcli`: 명령어 기반

```bash
# VM

$ nmcli dev # 인식된 네트워크 디바이스 확인
DEVICE      TYPE      STATE      CONNECTION 
virbr0      bridge    connected  virbr0     
enp2s0      ethernet  connected  enp2s0     
vnet0       tun       connected  vnet0      
lo          loopback  unmanaged  --         
virbr0-nic  tun       unmanaged  --  

$ nmcli connection 
NAME    UUID                                  TYPE            DEVICE 
enp2s0  2b25a6ec-ad1e-4afb-a7b1-1965955b9657  802-3-ethernet  enp2s0 
virbr0  3c999bb1-46e6-4786-91da-424999de56c6  bridge          virbr0 
vnet0   a323bca6-a4f1-481c-8808-12b9b327f268  tun             vnet0  

$ ls /etc/sysconfig/network-scripts/ # 조회된 리스트들이 현재 설정된 네트워크들
... ifcfg-enp2s0 ifcfg-eth0 ...
$ nmcli con delete eth0 # 설정 파일 제거
$ nmcli con delete 'Wired connection 1'

$ nmcli con add type ethernet con-name eth0 ifname eth0
Connection 'eth0' (fe91efcb-a949-4ae4-aac9-cbd0e1f9deec) successfully added.
## 설정 파일 만들기

```
- `nmlci con modify`
	- DHCP로 자동으로 받아오려는 경우  address, gateway, dns 모두 필요 없고 method을 `auto`로 해주면 된다.

<!--stackedit_data:
eyJoaXN0b3J5IjpbLTU2MDE3NzM4MywtMTUwNjYwNDkwMCwtMT
IzMTU2MzgzOCw4Njg4MDA5MzcsMjM5NjMxMzQzLC0xNjIwMDY3
NDQsLTg0OTI3NTUyMCwxMzYwNjU4MDE3LC0yMDg4NzQ2NjEyXX
0=
-->